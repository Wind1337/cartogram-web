<style>
  .progress-bar {
    -webkit-transition: width 0.5s ease;
    transition: width 0.5s ease;
  }

  .social-link {
    font-size: 50px;
    color: #707070;
    text-decoration: none;
  }

  .social-link:hover {
    color: #D76127;
  }


  @media screen and (max-width: 1000px) {
    #cartogram-row {
      display: block;
    }

    #cartogram-row .col-md-6 {
      max-width: 100% !important;

    }
  }

  .share-link {
    margin-left: 10px;
    margin-right: 10px;
  }

  .bar {
    fill: steelblue;
  }

  .bar:hover {
    fill: brown;
  }

  .axis {
    font: 11px sans-serif;
  }

  .axis path,
  .axis line {
    fill: none;
    stroke: #000;
    shape-rendering: crispEdges;
  }

  .customise-popup {
    color: white;
    border: 5px solid #d76127;
    background-color: #d76127;
    padding: 3px;
    position: absolute;
    margin-bottom: 10px;
    margin-top: -10px;
    border-radius: 1.2rem;
    width: 180px;
    z-index: 1000;
  }

  .checkbox-customise {
    cursor: pointer;
  }

  /* We use the following attributes so that clicking the checkbox text doesn't select them */
  .checkbox-label {
    cursor: pointer;
    -moz-user-select: none;
    -webkit-user-select: none;
    -ms-user-select: none;
    user-select: none;
    -o-user-select: none;
  }

  .no-click {
    pointer-events: none;
  }

  .dropdown {
    margin-right: 10px;
    position: relative;
    display: inline-block;
  }

  .dropdown-content {
    list-style: none;
    position: absolute;
    left: -9999px;
    /* Move it off-screen until hover */
    border-radius: 1.2rem;
    margin-top: 1px;
    width: 100px;
    background-color: #d76127;
    z-index: 1;
  }

  .dropdown-content a {
    color: white;
    padding: 6px 8px;
    text-decoration: none;
    display: block;
  }

  .dropdown-content a:hover {
    background-color: #b75222;
  }

  .dropdown-content .top-item:hover {
    border-radius: 1.2rem 1.2rem 0 0;
  }

  .dropdown-content .bottom-item:hover {
    border-radius: 0 0 1.2rem 1.2rem;
  }

  .dropdown:hover .dropdown-content {
    left: auto;
    /* Bring back on-screen when needed */
    right: 0;
  }

  .form-group {
    position: relative;
  }

  .clipboard-copy {
    position: absolute;
    top: 0;
    right: 0;
    margin-top: 8px;
    margin-right: 15px;
    cursor: pointer;
    border-radius: 3px;
    border: 1px solid #d7d3d3;
  }

  .clipboard-copy:hover {
    background-color: #dfdbdb;
  }


  #barchart svg {
    overflow: visible !important;
  }

  #barchart text.label {
    font-size: .8rem;
    letter-spacing: -0.01rem;
  }

  #tooltip {
    display: none;
    background: rgba(255, 255, 255, 0.7);
    border: 1px solid black;
    width: auto;
    height: auto;
    min-height: 75px;
    padding: 5px;
    position: absolute;
    font-size: small;
    top: 0;
    left: 0;
    z-index: 1000;
  }

  @media screen and (min-width:1600px) {
    .main-content {
      padding-left: 250px;
      padding-right: 250px;
    }
  }

  path.slice {
    stroke-width: 2px;
  }

  polyline {
    opacity: .3;
    stroke: black;
    stroke-width: 2px;
    fill: none;
  }

  #piechart-area svg {
    width: 960px;
    height: 450px;
  }
</style>


<p id="tooltip">&nbsp;</p>

<div id="loading">
  <p style="font-weight: bold">Loading...</p>

  <div class="row" id="loading-progress-container" style="display: none">
    <div class="col-sm-12 col-md-6">
      <div class="progress">
        <div class="progress-bar" role="progressbar" id="loading-progress"></div>
      </div>
    </div>
  </div>
</div>

<div id="error" style="display: none">
  <p style="font-weight: bold">Error: <span style="font-weight: normal" id="error-message"></span></p>
  <p>To continue, please refresh this page.</p>

  <div id="error-extended" style="display: none">
    <p><b>Additional Information: </b> When reporting this error, please include the information below.</p>

    <pre id="error-extended-content"></pre>
  </div>
</div>

<div id="cartogram">
  <div class="row" id="cartogram-row">
    <div class="col-md-6">
      <div style="height: 40px">
        <h4 class="mb-0">Equal-Area Map</h4>
        <!--<p id="tooltip">&nbsp;</p>-->
      </div>

      <div id="map-area" style="margin-top: 20px" data-grid-visibility="off"></div>
      <div style="padding-left: 0; padding-top: 10px" class="col-12">
        <!-- padding-top to add spacing between mapSVG and legend -->
        <svg width="375" height="90" id="map-area-legend" data-legend-type="static"
          data-current-grid-path="gridA"></svg>
        <img class="cc-logo" src="/static/img/creativecommons_icon.svg" width="80" alt="Creative Commons Icon"
          style="position: absolute; top: 10px; margin-right: 0px">
      </div>

      <div class="d-flex">
        <p style="margin-top: 20px; color: white; cursor: pointer" class="d-inline-block"><a
            class="btn btn-primary btn-customise" id="map-customise">Customise</a></p>
        {% if mode != 'embed' %}
        <p style="margin-top: 20px; margin-left: 10px"><a class="btn btn-primary" href="" id="map-download">Download</a>
        </p>
        {% endif %}
      </div>

      <div style="display: none" class="customise-popup" id="map-customise-popup">
        <form class="customise-container">
          <input type="checkbox" class="checkbox-customise" id="gridline-toggle-map" name="gridline" value="false"
            autocomplete="off">
          <label class="checkbox-label" for="gridline-toggle-map">Show Grid Lines</label><br>
          <input type="checkbox" class="checkbox-customise" id="legend-toggle-map" name="legend" value="false"
            autocomplete="off">
          <label class="checkbox-label" for="legend-toggle-map">Resizable Legend</label>
        </form>
      </div>
    </div>

    <div class="col-md-6" id="cartogram-container">

      <div style="height: 40px">
        <div class="d-flex align-items-center">
          <h4 class="d-inline-block mb-0">Cartogram</h4>
          <div id="map2-switch" class="ml-2">
            <div id="map2-switch-buttons"></div>
          </div>
        </div>
      </div>

      <div id="cartogram-area" style="margin-top: 20px" data-grid-visibility="off"></div>
      <div style="padding-left: 0; padding-top: 10px" class="col-12">
        <svg width="375" height="90" id="cartogram-area-legend" data-legend-type="static"
          data-current-grid-path="gridA"></svg>
        <img class="cc-logo" src="/static/img/creativecommons_icon.svg" width="80" alt="Creative Commons Icon"
          style="position: absolute; top: 10px; margin-right: 0px">
      </div>

      <div class="d-flex">
        <p style="margin-top: 20px; color: white; cursor: pointer;" class="d-inline-block"><a
            class="btn btn-primary btn-customise" id="cartogram-customise">Customise</a></p>

        {% if mode != 'embed' %}
        <p style="margin-top: 20px; margin-left: 10px" class="d-inline-block"><a class="btn btn-primary" href=""
            download="" id="cartogram-download">Download</a></p>
        <p style="margin-top: 20px; margin-left: 10px" class="d-inline-block"><a class="btn btn-info mr-2 text-light"
            href="" data-toggle="modal" data-target="#share-modal">Share</a></p>
        {% endif %}
      </div>

      <div style="display: none" class="customise-popup" id="cartogram-customise-popup">
        <form class="customise-container">
          <input type="checkbox" class="checkbox-customise" id="gridline-toggle-cartogram" name="gridline" value="false"
            autocomplete="off">
          <label class="checkbox-label" for="gridline-toggle-cartogram">Show Grid Lines</label><br>
          <input type="checkbox" class="checkbox-customise" id="legend-toggle-cartogram" name="legend" value="false"
            autocomplete="off">
          <label class="checkbox-label" for="legend-toggle-cartogram">Resizable Legend</label>
        </form>
      </div>
    </div>
  </div>
  <span id="map1-switch"></span>
</div>